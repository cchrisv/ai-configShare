<!--
  WIKI PAGE TEMPLATE
  Purpose: Rich styled template for Azure DevOps Wiki pages (Work Item Prep)
  Design: Markdown headers for TOC + gradient accent bars + white content cards

  CRITICAL ADO WIKI RENDERING RULES:
  - [[_TOC_]] MUST be on its own line outside any HTML block
  - Section headers MUST use markdown ## / ### syntax for TOC detection
  - HTML blocks must be separated by blank lines from markdown content
  - Each HTML block is self-contained (no wrapping <div> around entire page)
  - NO <details>/<summary> collapsed sections â€” all content visible
  - Diagrams use graph TD (top-down), never LR

  VISUAL HIERARCHY:
  - Page header: gradient bar (border-radius: 8px; padding: 14px 16px) â€” ticket # + title only
  - ## sections: 6px gradient accent bar immediately below heading
  - ### subsections: 4px gradient accent bar immediately below heading
  - Content: white cards (background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px)
  - Callouts: colored left-border accent cards inside content cards
  - Tables: HTML styled (NOT markdown), #f8f9fa header row, 1px #dee2e6 borders
  - Section sub-labels: bold colored text with border-bottom divider (inside cards)

  Color Scheme (Section Accent Gradients):
  - Green (#2e7d32 â†’ #1b5e20): Executive Summary, Goals
  - Blue (#1565c0 â†’ #0d47a1): Page header, Understanding the Request
  - Purple (#7b1fa2 â†’ #4a148c): Discovery & Research
  - Orange (#e65100 â†’ #bf360c): Investigation & Discovery Trail
  - Red (#c62828 â†’ #b71c1c): Open Unknowns, Blockers
  - Indigo (#303f9f â†’ #1a237e): Solution Design, Architecture
  - Teal (#00796b â†’ #004d40): Quality & Validation, Testing
  - Brown (#5d4037 â†’ #3e2723): Decision Rationale, Trade-offs

  Subsection accent bars use a lighter shade of the parent section color.
-->

<div style="background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
  <span style="font-weight: 700; color: #fff; font-size: 15px;">#{{work_item_id}} â€” {{work_item_title}}</span>
</div>

[[_TOC_]]

---

## ğŸ¯ Executive Summary
<div style="height: 6px; background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.7;">
    {{executive_summary_narrative}}
  </p>
  <div style="background: #fff3e0; border-left: 4px solid #ff9800; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #e65100; margin-bottom: 6px;">ğŸ’¡ The Challenge We're Addressing</div>
    <div style="line-height: 1.6;">{{challenge_description}}</div>
  </div>
  <div style="background: #e3f2fd; border-left: 4px solid #2196f3; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #1565c0; margin-bottom: 6px;">ğŸ” What We Learned</div>
    <div style="line-height: 1.6;">{{key_discoveries}}</div>
  </div>
  <div style="background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #2e7d32; margin-bottom: 6px;">âœ… Our Recommended Approach</div>
    <div style="line-height: 1.6;">{{recommended_approach}}</div>
  </div>
  <div style="background: #f3e5f5; border-left: 4px solid #9c27b0; border-radius: 0 8px 8px 0; padding: 14px;">
    <div style="font-weight: 600; color: #7b1fa2; margin-bottom: 6px;">â¡ï¸ The Path Forward</div>
    <div style="line-height: 1.6;">{{path_forward}}</div>
  </div>
</div>

---

## ğŸ“‹ Understanding the Request
<div style="height: 6px; background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

### ğŸ¯ Business Context
<div style="height: 4px; background: linear-gradient(135deg, #42a5f5 0%, #1565c0 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.7;">
    {{business_context_narrative}}
  </p>
  <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ‘¥ The People This Affects</div>
  <p style="margin: 0 0 16px 0; line-height: 1.6;">{{stakeholders_affected}}</p>
  <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“ The Current Situation</div>
  <p style="margin: 0 0 16px 0; line-height: 1.6;">{{current_situation}}</p>
  <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ† What Success Looks Like</div>
  <p style="margin: 0; line-height: 1.6;">{{success_definition}}</p>
</div>

### ğŸ“Š What We Need to Deliver
<div style="height: 4px; background: linear-gradient(135deg, #42a5f5 0%, #1565c0 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âš™ï¸ Functional Requirements</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{functional_req_1}}</li>
    <li>{{functional_req_2}}</li>
    <li>{{functional_req_3}}</li>
  </ul>
  <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“ Quality Attributes</div>
  <ul style="margin: 0; padding-left: 20px; line-height: 1.8;">
    <li>{{quality_attr_1}}</li>
    <li>{{quality_attr_2}}</li>
  </ul>
</div>

---

## ğŸ” Discovery & Research
<div style="height: 6px; background: linear-gradient(135deg, #7b1fa2 0%, #4a148c 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

### ğŸ“š Learning from Existing Knowledge
<div style="height: 4px; background: linear-gradient(135deg, #ab47bc 0%, #7b1fa2 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{existing_knowledge_narrative}}
  </p>
  <div style="font-weight: 600; color: #7b1fa2; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“„ What We Found in Our Documentation</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{doc_finding_1}}</li>
    <li>{{doc_finding_2}}</li>
    <li>{{doc_finding_3}}</li>
  </ul>
  <div style="font-weight: 600; color: #7b1fa2; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ’ Key Discoveries</div>
  <ul style="margin: 0; padding-left: 20px; line-height: 1.8;">
    <li>{{discovery_1}}</li>
    <li>{{discovery_2}}</li>
    <li>{{discovery_3}}</li>
  </ul>
</div>

### ğŸ—ï¸ Understanding Our Technical Environment
<div style="height: 4px; background: linear-gradient(135deg, #ab47bc 0%, #7b1fa2 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{technical_env_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Type</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Component Name</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Impact Level</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Notes</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{component_type}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{component_name}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{impact_level}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{component_notes}}</td>
    </tr>
    <!-- Add more component rows as needed -->
  </table>
</div>

### ğŸ’» Examining the Codebase
<div style="height: 4px; background: linear-gradient(135deg, #ab47bc 0%, #7b1fa2 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{codebase_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Component</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Relevance</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Reusability</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{code_component_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{code_purpose_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{code_relevance_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{code_reusability_1}}</td>
    </tr>
    <!-- Add more code component rows as needed -->
  </table>
</div>

### ğŸ”— Related Work Items
<div style="height: 4px; background: linear-gradient(135deg, #ab47bc 0%, #7b1fa2 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Work Item</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Title</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Why It's Related</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><a href="{{related_url_1}}" style="color: #0078d4;">#{{related_id_1}}</a></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{related_title_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{related_reason_1}}</td>
    </tr>
    <!-- Add more related work item rows as needed -->
  </table>
</div>

---

## ğŸ”¬ Investigation & Discovery Trail
<div style="height: 6px; background: linear-gradient(135deg, #e65100 0%, #bf360c 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

### ğŸ•µï¸ The Investigation Journey
<div style="height: 4px; background: linear-gradient(135deg, #ef6c00 0%, #e65100 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.7;">
    {{investigation_journey_narrative}}
  </p>
  <div style="font-weight: 600; color: #e65100; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ•µï¸ Where We Started</div>
  <p style="margin: 0 0 16px 0; line-height: 1.6;">{{investigation_start}}</p>
  <div style="font-weight: 600; color: #e65100; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ”„ How Our Understanding Evolved</div>
  <p style="margin: 0 0 16px 0; line-height: 1.6;">{{understanding_evolution}}</p>
  <div style="font-weight: 600; color: #e65100; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âš¡ Key Turning Points</div>
  <ul style="margin: 0; padding-left: 20px; line-height: 1.8;">
    <li>{{turning_point_1}}</li>
    <li>{{turning_point_2}}</li>
  </ul>
</div>

### ğŸ§ª Testing Our Assumptions
<div style="height: 4px; background: linear-gradient(135deg, #ef6c00 0%, #e65100 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{hypothesis_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What We Thought</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Why We Thought It</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What We Found</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Verdict</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{hypothesis_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{hypothesis_reason_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{hypothesis_finding_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Confirmed</span></td>
    </tr>
    <!-- Add more hypothesis rows as needed. Verdict options: âœ… Confirmed (#4caf50), âŒ REFUTED (#dc3545), âš ï¸ OPEN (#ffc107 with #333 text) -->
  </table>
  <div style="background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 0 8px 8px 0; padding: 14px; margin-top: 16px;">
    <div style="font-weight: 600; color: #2e7d32; margin-bottom: 6px;">ğŸ’¡ Key Insight</div>
    <div style="line-height: 1.6;">{{key_insight}}</div>
  </div>
</div>

### ğŸ“Š How Confident Are We?
<div style="height: 4px; background: linear-gradient(135deg, #ef6c00 0%, #e65100 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{confidence_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Area</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Confidence</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What Gives Us Confidence</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What We're Less Sure About</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{confidence_area}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">High</span></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{confidence_evidence}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{confidence_uncertainty}}</td>
    </tr>
    <!-- Add more confidence rows as needed. Levels: High (#4caf50), Medium (#ffc107 with #333 text), Low (#dc3545) -->
  </table>
</div>

---

## ğŸ¨ Solution Design
<div style="height: 6px; background: linear-gradient(135deg, #303f9f 0%, #1a237e 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.7;">
    {{solution_overview_narrative}}
  </p>
</div>

### ğŸ›ï¸ The Architectural Approach
<div style="height: 4px; background: linear-gradient(135deg, #5c6bc0 0%, #303f9f 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="font-weight: 600; color: #303f9f; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ›ï¸ Why We Designed It This Way</div>
  <p style="margin: 0 0 16px 0; line-height: 1.6;">{{design_philosophy}}</p>
  <div style="font-weight: 600; color: #303f9f; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ”§ The Key Technology Choices</div>
  <p style="margin: 0; line-height: 1.6;">{{technology_choices}}</p>
</div>

### ğŸ§© How the Pieces Fit Together
<div style="height: 4px; background: linear-gradient(135deg, #5c6bc0 0%, #303f9f 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{components_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Component</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What It Does</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Why It's Needed</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Complexity</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{component_name_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{component_desc_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{component_why_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #ffc107; color: #333; padding: 2px 8px; border-radius: 3px; font-size: 11px;">{{component_complexity_1}}</span></td>
    </tr>
    <!-- Add more component rows as needed. Complexity: LOW (#4caf50), MEDIUM (#ffc107 with #333 text), HIGH (#dc3545), CRITICAL (#b71c1c) -->
  </table>
</div>

### ğŸ”Œ Integration Points
<div style="height: 4px; background: linear-gradient(135deg, #5c6bc0 0%, #303f9f 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="font-weight: 600; color: #303f9f; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ”Œ Working with Other Systems</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{integration_1}}</li>
    <li>{{integration_2}}</li>
  </ul>
  <div style="font-weight: 600; color: #303f9f; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ”’ Security Considerations</div>
  <p style="margin: 0; line-height: 1.6;">{{security_considerations}}</p>
</div>

---

## ğŸ’­ Decision Rationale
<div style="height: 6px; background: linear-gradient(135deg, #5d4037 0%, #3e2723 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.7;">
    {{decision_narrative}}
  </p>
  <div style="background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 0 8px 8px 0; padding: 14px;">
    <div style="font-weight: 600; color: #2e7d32; margin-bottom: 6px;">ğŸ“ The Short Version</div>
    <div style="line-height: 1.6;">{{decision_summary}}</div>
  </div>
</div>

### ğŸ¯ The Options We Weighed
<div style="height: 4px; background: linear-gradient(135deg, #795548 0%, #5d4037 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Option</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">The Approach</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What's Good</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What Gave Us Pause</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Assessment</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><strong>Option 1</strong></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{option_1_approach}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{option_1_pros}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{option_1_cons}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Recommended</span></td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><strong>Option 2</strong></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{option_2_approach}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{option_2_pros}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{option_2_cons}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #dc3545; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âŒ Not this time</span></td>
    </tr>
    <!-- Add more option rows as needed. Assessment: âœ… Recommended (#4caf50), âŒ Not this time / REJECTED (#dc3545), âŒ DEFERRED (#dc3545) -->
  </table>
</div>

### âš–ï¸ The Trade-offs We're Making
<div style="height: 4px; background: linear-gradient(135deg, #795548 0%, #5d4037 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{tradeoffs_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">We're Choosing</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Instead Of</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Because</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Risk We're Accepting</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{choosing}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{instead_of}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{because}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{accepted_risk}}</td>
    </tr>
    <!-- Add more trade-off rows as needed -->
  </table>
</div>

---

## âœ… Quality & Validation
<div style="height: 6px; background: linear-gradient(135deg, #00796b 0%, #004d40 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

### ğŸ“‹ How We'll Know We're Successful
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ‘¤ What Users Should Experience</div>
  <ol style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{user_success_1}}</li>
    <li>{{user_success_2}}</li>
    <li>{{user_success_3}}</li>
  </ol>
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âš™ï¸ What the System Must Do</div>
  <ol start="4" style="margin: 0; padding-left: 20px; line-height: 1.8;">
    <li>{{system_success_1}}</li>
    <li>{{system_success_2}}</li>
  </ol>
</div>

### ğŸ§ª Testing Strategy & Coverage
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.7;">
    {{testing_philosophy}}
  </p>
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“Š AC Coverage Summary</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">AC ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Acceptance Criteria</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Happy Path Tests</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Unhappy Path Tests</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Coverage</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">AC-1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{ac_description_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">TC-001</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">TC-002</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Full</span></td>
    </tr>
    <!-- Add more AC coverage rows as needed. Coverage: âœ… Full (#4caf50), âš ï¸ Partial (#ffc107 with #333 text), âŒ Gap (#dc3545) -->
  </table>
  <div style="background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 0 8px 8px 0; padding: 14px;">
    <div style="font-weight: 600; color: #2e7d32; margin-bottom: 6px;">ğŸ“– Path Type Legend</div>
    <div style="line-height: 1.6;">
      <strong>âœ“ Happy Path:</strong> Validates AC works as expected under normal conditions &nbsp;|&nbsp;
      <strong>âœ— Negative:</strong> Validates error handling, invalid inputs, permission failures &nbsp;|&nbsp;
      <strong>âš¡ Edge Case:</strong> Validates boundary conditions, bulk operations, timing &nbsp;|&nbsp;
      <strong>ğŸ”’ Security:</strong> Validates access controls, data isolation, FLS/CRUD
    </div>
  </div>
</div>

### ğŸ“Š Test Data Matrix
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{test_data_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Row ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Persona</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Profile / Permissions</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Record Context</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Key Conditions</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Notes</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">D1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{persona_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{profile_permissions_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{record_context_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{key_conditions_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{data_notes_1}}</td>
    </tr>
    <!-- Add more data rows as needed. Group by: ğŸ‘¤ Happy Path, ğŸ“Š Data Variations, âš ï¸ Negative Scenarios -->
  </table>
</div>

### ğŸ”´ P1 Critical Path Tests
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    These tests validate the core functionality that must work for the feature to be considered successful. Failure of any P1 test is a release blocker.
  </p>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Why This Test Matters</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Expected Outcome</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">TC-001</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{test_scenario_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{test_importance_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{test_outcome_1}}</td>
    </tr>
    <!-- Add more test case rows as needed -->
  </table>
  <div style="font-weight: 600; color: #00796b; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“ TC-001: {{test_full_title_1}}</div>
  <p style="margin: 0 0 8px 0;"><strong>Objective:</strong> {{test_objective_1}}</p>
  <p style="margin: 0 0 8px 0;"><strong>Pre-conditions & Setup:</strong></p>
  <ul style="margin: 0 0 12px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{precondition_1}}</li>
    <li>{{precondition_2}}</li>
  </ul>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Step</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Action</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Input/Data</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Expected Result</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{step_action_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{step_input_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{step_expected_1}}</td>
    </tr>
    <!-- Add more step rows as needed -->
  </table>
  <p style="margin: 16px 0 8px 0;"><strong>Verification Checklist:</strong></p>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li><strong>UI:</strong> {{ui_verification_1}}</li>
    <li><strong>Data:</strong> {{data_verification_1}}</li>
    <li><strong>Related Records:</strong> {{related_records_verification_1}}</li>
  </ul>
  <div style="background: #e3f2fd; border-left: 4px solid #1565c0; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #1565c0; margin-bottom: 6px;">ğŸ§‘â€ğŸ’» Developer Validation</div>
    <div style="line-height: 1.6;">
      <p style="margin: 0 0 8px 0;"><strong>Unit Test Pattern:</strong> <code>{{unit_test_pattern_1}}</code></p>
      <p style="margin: 0 0 8px 0;"><strong>Assertions:</strong></p>
      <ul style="margin: 0 0 8px 0; padding-left: 20px;">
        <li>{{assertion_1}}</li>
        <li>{{assertion_2}}</li>
      </ul>
      <p style="margin: 0 0 8px 0;"><strong>Mocks Required:</strong> {{mocks_required_1}}</p>
      <p style="margin: 0;"><strong>Integration Checks:</strong> {{integration_checks_1}}</p>
    </div>
  </div>
  <div style="background: #f3e5f5; border-left: 4px solid #7b1fa2; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #7b1fa2; margin-bottom: 6px;">ğŸ§ª QA Validation</div>
    <div style="line-height: 1.6;">
      <p style="margin: 0 0 8px 0;"><strong>Navigation:</strong> {{qa_navigation_1}}</p>
      <p style="margin: 0 0 8px 0;"><strong>Data Verification Query:</strong></p>
      <div style="background: #f5f5f5; border: 1px solid #dee2e6; border-radius: 4px; padding: 8px; font-family: monospace; font-size: 12px; margin-bottom: 8px;">{{data_query_1}}</div>
      <p style="margin: 0 0 8px 0;"><strong>Visual Checkpoints:</strong></p>
      <ul style="margin: 0 0 8px 0; padding-left: 20px;">
        <li>{{visual_check_1}}</li>
        <li>{{visual_check_2}}</li>
      </ul>
      <p style="margin: 0;"><strong>Environment Prerequisites:</strong> {{env_prerequisites_1}}</p>
    </div>
  </div>
  <p style="margin: 0 0 8px 0;"><strong>Cleanup:</strong> {{cleanup_steps_1}}</p>
</div>

### ğŸŸ¡ P2 Important Tests
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Path Type</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Covers AC</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Expected Outcome</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_test_id}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_test_scenario}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_path_type}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_covers_ac}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_test_outcome}}</td>
    </tr>
    <!-- Add more P2 test rows as needed -->
  </table>
  <!-- Repeat the detailed per-test-case format (Objective, Pre-conditions, Step-by-Step table, Verification, Developer Validation, QA Validation, Cleanup) for each P2 test case -->
</div>

### ğŸŸ¢ P3 Edge Case & Low-Priority Tests
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    These tests cover long-tail edge cases, cosmetic checks, and scenarios already partially covered elsewhere. They are not release blockers but improve overall quality confidence.
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Path Type</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Covers AC</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Expected Outcome</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_test_id}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_test_scenario}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_path_type}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_covers_ac}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_test_outcome}}</td>
    </tr>
    <!-- Add more P3 test rows as needed -->
  </table>
</div>

### ğŸ“‹ Test Data Setup Guide
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âš™ï¸ Environment Configuration</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{env_config_1}}</li>
    <li>{{env_config_2}}</li>
  </ul>
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“ Test Records to Create</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{test_record_1}}</li>
    <li>{{test_record_2}}</li>
  </ul>
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ‘¤ User Setup</div>
  <ul style="margin: 0; padding-left: 20px; line-height: 1.8;">
    <li>{{user_setup_1}}</li>
    <li>{{user_setup_2}}</li>
  </ul>
</div>

### ï¿½ UAT Scripts
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #e0f2f1; border-left: 4px solid #00796b; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 6px;">ğŸ’¡ Audience</div>
    <div style="line-height: 1.6;">These scripts are designed for business stakeholders who validate the feature meets their needs. They complement the technical QA test cases above.</div>
  </div>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">UAT-001: {{uat_script_1_title}}</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 12px;">
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 30%;">Persona</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_script_1_persona}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Covers AC</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_script_1_covers_ac}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Data Requirements</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_script_1_data_reqs}}</td></tr>
  </table>
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px;">Test Steps:</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 12px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">Step</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Action (Business Language)</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">What You Should See</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_step_1_action}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_step_1_expected}}</td>
    </tr>
    <!-- Add more UAT step rows as needed -->
  </table>
  <div style="margin-bottom: 8px;">âœ… <strong>Pass if:</strong> {{uat_script_1_pass}}</div>
  <div>âŒ <strong>Fail if:</strong> {{uat_script_1_fail}}</div>
  <!-- Add more UAT scripts as needed -->
</div>

### ğŸš€ Smoke Test Pack
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #fff3e0; border-left: 4px solid #ff9800; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #e65100; margin-bottom: 6px;">âš ï¸ Purpose</div>
    <div style="line-height: 1.6;">Run these checks immediately after deployment to verify basic functionality. The full test suite (P1/P2/P3 above) provides comprehensive coverage.</div>
  </div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 5%;">#</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 20%;">Check</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">What to Verify</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Pass Criteria</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Login + Navigation</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_1_verify}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_1_criteria}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">2</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Create Key Record</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_2_verify}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_2_criteria}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">3</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Automation Sanity</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_3_verify}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_3_criteria}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">4</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Integration Handshake</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_4_verify}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_4_criteria}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">5</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Report/Dashboard</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_5_verify}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_5_criteria}}</td>
    </tr>
    <!-- Add more smoke check rows as needed -->
  </table>
  <div style="background: #f5f5f5; border-radius: 6px; padding: 12px; font-size: 12px; color: #666;">
    <strong>Principles:</strong> Shallow (basic health, not full coverage) Â· Fast (&lt;15 min) Â· Independent (any order) Â· Repeatable (consistent results)
  </div>
</div>

### ğŸ“‹ Test Data Setup Guide
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #e0f2f1; border-left: 4px solid #00796b; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 6px;">ğŸ“‹ Purpose</div>
    <div style="line-height: 1.6;">Follow these steps to prepare all required test data from scratch in a clean sandbox. References the Test Data Matrix personas above.</div>
  </div>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 1: Create Test Users</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 5%;">#</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Username</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Profile</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Permission Sets</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Role</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_username}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_profile}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_permsets}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_role}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_purpose}}</td>
    </tr>
    <!-- Add more user rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 2: Create Test Records</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 5%;">#</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Object</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Record Name</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Key Field Values</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Related To</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_object}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_name}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_fields}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_related}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_purpose}}</td>
    </tr>
    <!-- Add more record rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 3: Configure Feature Flags / Settings</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 5%;">#</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Setting</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Object/Type</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Value</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_name}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_type}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_value}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_purpose}}</td>
    </tr>
    <!-- Add more flag rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 4: Verify Environment</div>
  <ul style="margin: 0; padding-left: 20px; line-height: 2;">
    <li>â˜ All test users can log in</li>
    <li>â˜ Required permission sets are assigned</li>
    <li>â˜ Test records are visible to appropriate users</li>
    <li>â˜ Feature flags are set correctly</li>
    <li>â˜ Integration endpoints are available (or mocked)</li>
  </ul>
</div>

### ğŸ”— Requirements Traceability Matrix
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Acceptance Criteria</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Description</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Cases</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Coverage</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">AC-1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{ac_description_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">TC-001, TC-002</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Covered</span></td>
    </tr>
    <!-- Add more AC rows as needed. Coverage: âœ… Covered (#4caf50), âš ï¸ Partial (#ffc107 with #333 text), âŒ Gap (#dc3545) -->
  </table>
</div>

### ğŸ“‹ Assumptions Resolution Log
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Assumption</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Phase</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Source</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Status</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Resolution Evidence</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{assumption_text}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">Research</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{assumption_source}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Validated</span></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{assumption_evidence}}</td>
    </tr>
    <!-- Add more assumption rows as needed. Status: âœ… Validated (#4caf50), âŒ Refuted (#dc3545), âš ï¸ Open (#ffc107 with #333 text), ğŸ”„ Superseded (#2196f3) -->
  </table>
</div>

### â“ Open Unknowns
<div style="height: 4px; background: linear-gradient(135deg, #ef5350 0%, #c62828 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #ffebee; border-left: 4px solid #dc3545; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #dc3545; margin-bottom: 6px;">âš ï¸ Items Requiring Human Input</div>
    <div style="line-height: 1.6;">These items could not be determined during autonomous preparation and require human input.</div>
  </div>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Unknown</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Why We Couldn't Determine</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Impact if Unresolved</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Resolution Path</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_item}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_reason}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_impact}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_resolution}}</td>
    </tr>
    <!-- Add more unknown rows as needed -->
  </table>
</div>

---

<div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 16px; text-align: center; font-family: 'Segoe UI', sans-serif;">
  <div style="font-size: 13px; color: #666; margin-bottom: 8px;">ğŸ“… <strong>Last Updated:</strong> {{timestamp}}</div>
  <div style="font-size: 12px; color: #999;">This single page provides complete documentation of research, decisions, and technical design.</div>
</div>
