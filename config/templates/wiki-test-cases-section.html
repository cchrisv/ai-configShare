<!--
  WIKI TEST CASES SECTION TEMPLATE
  Purpose: Quality & Validation section for Azure DevOps Wiki pages
  Phase: Rendered by Phase 04b (Test Cases) and appended to the published wiki page
  Design: Teal color scheme (#00796b â†’ #004d40), white content cards, styled HTML tables

  USAGE:
  - This template defines the HTML structure for the entire Quality & Validation section
  - Phase 04b generates test case data, then renders it using this template's patterns
  - The rendered content is appended to the existing wiki page (before the footer)

  COLOR SCHEME (Teal â€” Quality & Validation):
  - Section accent: linear-gradient(135deg, #00796b 0%, #004d40 100%)
  - Subsection accent: linear-gradient(135deg, #26a69a 0%, #00796b 100%)
  - Section labels: color: #00796b; font-weight: 600
  - Callout background: #e0f2f1; border-left: 4px solid #00796b
  - Priority badges:
    - P1 Critical: background: #dc3545; color: #fff
    - P2 Important: background: #ffc107; color: #333
    - P3 Additional: background: #4caf50; color: #fff
  - Coverage badges:
    - Full: background: #4caf50; color: #fff (âœ…)
    - Partial: background: #ffc107; color: #333 (âš ï¸)
    - Gap: background: #dc3545; color: #fff (âŒ)
  - Path type badges:
    - Happy: background: #4caf50 (âœ“)
    - Negative: background: #dc3545 (âœ—)
    - Edge: background: #ff9800 (âš¡)
    - Security: background: #1565c0 (ğŸ”’)
    - Automation: background: #7b1fa2 (âš™ï¸)
    - Integration: background: #00796b (ğŸ”„)

  CARD PATTERN (reuse for all content):
  <div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
    [content]
  </div>

  TABLE PATTERN (reuse for all tables):
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Header</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">Value</td>
    </tr>
  </table>

  CALLOUT PATTERN:
  <div style="background: #e0f2f1; border-left: 4px solid #00796b; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 6px;">ğŸ’¡ Title</div>
    <div style="line-height: 1.6;">Content</div>
  </div>

  DEVELOPER VALIDATION CALLOUT:
  <div style="background: #e3f2fd; border-left: 4px solid #1565c0; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #1565c0; margin-bottom: 6px;">ğŸ‘¨â€ğŸ’» Developer Validation</div>
    <div style="line-height: 1.6;">[content]</div>
  </div>

  QA VALIDATION CALLOUT:
  <div style="background: #f3e5f5; border-left: 4px solid #7b1fa2; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #7b1fa2; margin-bottom: 6px;">ğŸ” QA Validation</div>
    <div style="line-height: 1.6;">[content]</div>
  </div>

  EXPECTED BEHAVIOR CALLOUT (teal accent â€” MANDATORY for every TC/REG):
  <div style="border-left: 4px solid #26a69a; background: #e0f2f1; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 0 0 16px 0;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 4px;">ğŸ’¡ Expected Behavior</div>
    <div style="line-height: 1.6;">[2-4 sentence narrative]</div>
  </div>

  IF THIS FAILS CALLOUT (red accent â€” MANDATORY for every TC/REG):
  <div style="border-left: 4px solid #dc3545; background: #fce4ec; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 0 0 16px 0;">
    <div style="font-weight: 600; color: #c62828; margin-bottom: 4px;">ğŸš¨ If This Fails</div>
    <div style="line-height: 1.6;">[what to capture + who to escalate to]</div>
  </div>

  PATH-TYPE LEFT-BORDER COLORS (applied to individual TC/REG detail cards):
  - Happy path card: border-left: 4px solid #4caf50 (green)
  - Unhappy path card: border-left: 4px solid #dc3545 (red)

  MASTER SUMMARY TABLE (primary execution view â€” table-first layout):
  - Columns: ID | Test Scenario | Path (badge) | Steps (numbered) | Expected Result | âœ“ (checkbox)
  - Used for P1, P2, P3, Regression, UAT-Happy, UAT-Unhappy, Smoke-Happy, Smoke-Unhappy
  - Steps rendered inline with <br/> separators for scannable execution

  NEW SECTIONS ADDED:
  - Subsection 2a: Business Process Coverage Map (process â†’ actors â†’ ACs â†’ tests â†’ coverage)
  - Subsection 2b: Critical Scenario Register (scenario â†’ risk badge â†’ impact â†’ tests â†’ mitigation)
  - Subsection 7a: Regression Tests (REG-XXX with master summary table + detail cards)
  - Subsection 7b: UAT Scripts (split into Happy + Unhappy with master summary tables)
  - Subsection 7c: Smoke Test Pack (split into Happy + Unhappy with numbered steps)
-->

<!-- ============================================================ -->
<!-- SECTION: Quality & Validation                                 -->
<!-- ============================================================ -->

## âœ… Quality & Validation
<div style="height: 6px; background: linear-gradient(135deg, #00796b 0%, #004d40 100%); border-radius: 3px; margin: 0 0 16px 0;"></div>

<!-- ============================================================ -->
<!-- SUBSECTION 1: How We'll Know We're Successful                 -->
<!-- ============================================================ -->

### âœ… How We'll Know We're Successful
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ‘¤ What Users Should Experience</div>
  <ol style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{user_success_1}}</li>
    <li>{{user_success_2}}</li>
    <li>{{user_success_3}}</li>
  </ol>
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âš™ï¸ What the System Must Do</div>
  <ol start="4" style="margin: 0; padding-left: 20px; line-height: 1.8;">
    <li>{{system_success_1}}</li>
    <li>{{system_success_2}}</li>
  </ol>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 2: Testing Strategy & Coverage                     -->
<!-- ============================================================ -->

### ğŸ¯ Testing Strategy & Coverage
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.7;">
    {{testing_philosophy_narrative}}
  </p>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“Š Scope</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 50%;">âœ… In Scope</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 50%;">âŒ Out of Scope</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; vertical-align: top;">
        <ul style="margin: 0; padding-left: 16px; line-height: 1.8;">
          <li>{{in_scope_1}}</li>
          <li>{{in_scope_2}}</li>
        </ul>
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6; vertical-align: top;">
        <ul style="margin: 0; padding-left: 16px; line-height: 1.8;">
          <li>{{out_scope_1}}</li>
          <li>{{out_scope_2}}</li>
        </ul>
      </td>
    </tr>
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ§ª Test Type Applicability</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Type</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 10%;">Applies</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 15%;">Owner</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Justification</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Unit Testing</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">{{unit_applies}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">Dev</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unit_justification}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Smoke Testing</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">{{smoke_applies}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">QA</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_justification}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Integration Testing</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">{{integration_applies}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">QA</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{integration_justification}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">System Testing</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">{{system_applies}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">QA</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{system_justification}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">UAT</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">{{uat_applies}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">Business</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{uat_justification}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Performance Testing</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">{{perf_applies}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">QA/Dev</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{perf_justification}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Security Testing</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">{{security_applies}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">QA/Dev</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{security_justification}}</td>
    </tr>
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ¯ Entry Points</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>{{entry_point_1}}</li>
    <li>{{entry_point_2}}</li>
  </ul>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“ Suite Organization</div>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Category</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Count</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test IDs</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">ğŸ”¥ Smoke</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_count}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_ids}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">ğŸ”„ Regression</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{regression_count}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{regression_ids}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">â­ Feature</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{feature_count}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{feature_ids}}</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">ğŸ‘¤ UAT</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{uat_count}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{uat_ids}}</td>
    </tr>
  </table>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 3: AC-Centric Test Coverage Matrix                 -->
<!-- ============================================================ -->

### ğŸ“‹ AC-Centric Test Coverage Matrix
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">AC ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Acceptance Criteria</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Happy Path Tests</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Unhappy Path Tests</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Coverage</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">AC-1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{ac_1_description}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{ac_1_happy_tests}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{ac_1_unhappy_tests}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Full</span></td>
    </tr>
    <!-- Repeat for each AC. Coverage badge options:
         âœ… Full: background: #4caf50; color: #fff
         âš ï¸ Partial: background: #ffc107; color: #333
         âŒ Gap: background: #dc3545; color: #fff
    -->
  </table>

  <div style="background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 0 8px 8px 0; padding: 14px;">
    <div style="font-weight: 600; color: #2e7d32; margin-bottom: 6px;">ğŸ“– Path Type Legend</div>
    <div style="line-height: 1.6;">
      <strong>âœ“ Happy Path:</strong> Validates AC works as expected under normal conditions &nbsp;|&nbsp;
      <strong>âœ— Negative:</strong> Validates error handling, invalid inputs, permission failures &nbsp;|&nbsp;
      <strong>âš¡ Edge Case:</strong> Validates boundary conditions, bulk operations, timing &nbsp;|&nbsp;
      <strong>ğŸ”’ Security:</strong> Validates access controls, data isolation, FLS/CRUD &nbsp;|&nbsp;
      <strong>âš™ï¸ Automation:</strong> Validates order-of-execution, recursion guards, idempotency &nbsp;|&nbsp;
      <strong>ğŸ”„ Integration:</strong> Validates external system interactions, retry logic, async behavior
    </div>
  </div>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 4: Test Data Matrix                                -->
<!-- ============================================================ -->

### ğŸ“Š Test Data Matrix
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    {{test_data_narrative}}
  </p>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Row ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Persona</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Profile / Permissions</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Record Context</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Key Conditions</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Notes</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">ğŸ‘¤ D1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{persona_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{profile_permissions_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{record_context_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{key_conditions_1}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{data_notes_1}}</td>
    </tr>
    <!-- Repeat for each data row. Prefix: ğŸ‘¤ persona, ğŸ“Š data variation, âš ï¸ negative -->
  </table>
</div>

<!-- PER-PERSONA DETAIL CARDS â€” Repeat for each D1, D2, D3... -->

#### ğŸ‘¤ D1: {{persona_1_name}}

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 30%; background: #f8f9fa;">Role/Title</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_role}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Profile</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_profile}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Permission Sets</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_permission_sets}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Record Access</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_record_access}}</td></tr>
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ”§ Test User Setup</div>
  <div style="background: #f5f5f5; border: 1px solid #dee2e6; border-radius: 4px; padding: 12px; font-family: monospace; font-size: 12px; margin-bottom: 16px; line-height: 1.6;">
    Username: {{d1_username}}<br/>
    Profile: {{d1_profile}}<br/>
    Permission Sets: {{d1_permission_sets}}<br/>
    Role: {{d1_role_hierarchy}}
  </div>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“‹ Required Test Records</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Object</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Record Name</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Key Field Values</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_record_object}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_record_name}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_record_fields}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_record_purpose}}</td>
    </tr>
    <!-- Add more record rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ Feature Flag Configuration</div>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Flag Name</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Value</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Reason</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_flag_name}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;"><code>{{d1_flag_value}}</code></td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{d1_flag_reason}}</td>
    </tr>
    <!-- Add more flag rows as needed -->
  </table>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 5: P1 Critical Path Tests                          -->
<!-- ============================================================ -->

### ğŸ”´ P1 Critical Path Tests
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    These tests validate the core functionality that must work for the feature to be considered successful. Failure of any P1 test is a release blocker.
  </p>
  <!-- MASTER SUMMARY TABLE â€” Primary execution view. Tester executes from this table directly. -->
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 20%;">Test Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">Path</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 32%;">Steps</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 27%;">Expected Result</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 5%; text-align: center;">âœ“</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">TC-001</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_title}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ“ Happy</span></td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">
        1. {{tc_001_step_1_action}}<br/>
        2. {{tc_001_step_2_action}}<br/>
        <!-- Add numbered steps inline with <br/> separators -->
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_final_expected_result}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <!-- Repeat for each P1 test. Path type badge colors:
         âœ“ Happy: #4caf50  |  âœ— Negative: #dc3545  |  âš¡ Edge: #ff9800
         ğŸ”’ Security: #1565c0  |  âš™ï¸ Automation: #7b1fa2  |  ğŸ”„ Integration: #00796b
    -->
  </table>
</div>

<!-- INDIVIDUAL TEST CASE CARDS â€” Secondary detailed view below the master table -->
<!-- Repeat for EACH TC-XXX in P1 -->

#### TC-001: {{tc_001_full_title}}

<!-- Use green left-border for happy path, red for unhappy path -->
<div style="background: #fff; border-left: 4px solid #4caf50; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">

  <!-- Test Case Metadata -->
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 25%; background: #f8f9fa;">Objective</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_objective}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Path Type</td><td style="padding: 8px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ“ Happy Path</span></td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Covers AC</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_ac}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Priority</td><td style="padding: 8px; border: 1px solid #dee2e6;"><span style="background: #dc3545; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">ğŸ”´ P1 Critical</span></td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Entry Point</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_entry_point}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Persona</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_persona}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Data Row</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_data_row}}</td></tr>
  </table>

  <!-- Expected Behavior callout (teal accent) â€” MANDATORY for every TC -->
  <div style="border-left: 4px solid #26a69a; background: #e0f2f1; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 0 0 16px 0;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 4px;">ğŸ’¡ Expected Behavior</div>
    <div style="line-height: 1.6;">{{tc_001_expected_behavior_narrative}}</div>
  </div>

  <!-- Pre-conditions -->
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“‹ Pre-conditions & Setup</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>â˜ {{tc_001_precondition_1}}</li>
    <li>â˜ {{tc_001_precondition_2}}</li>
    <li>â˜ {{tc_001_precondition_3}}</li>
  </ul>

  <!-- Step-by-Step Execution -->
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ”¢ Step-by-Step Execution</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 6%; text-align: center;">Step</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 30%;">Action</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">Input/Data</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 33%;">Expected Result</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 6%; text-align: center;">âœ“</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_step_1_action}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_step_1_input}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_step_1_expected}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">2</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_step_2_action}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_step_2_input}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{tc_001_step_2_expected}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <!-- Add more step rows as needed -->
  </table>

  <!-- Verification Checklist -->
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âœ… Verification Checklist</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>â˜ <strong>UI:</strong> {{tc_001_verify_ui}}</li>
    <li>â˜ <strong>Data:</strong> {{tc_001_verify_data}}</li>
    <li>â˜ <strong>Related Records:</strong> {{tc_001_verify_related}}</li>
    <li>â˜ <strong>Notifications:</strong> {{tc_001_verify_notifications}}</li>
  </ul>

  <!-- If This Fails callout (red accent) â€” MANDATORY for every TC -->
  <div style="border-left: 4px solid #dc3545; background: #fce4ec; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 0 0 16px 0;">
    <div style="font-weight: 600; color: #c62828; margin-bottom: 4px;">ğŸš¨ If This Fails</div>
    <div style="line-height: 1.6;">{{tc_001_failure_guidance}}</div>
  </div>

  <!-- Telemetry & Logs -->
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“Š Telemetry & Logs</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Log Type</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">What to Look For</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Where to Find It</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_log_type}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_log_pattern}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{tc_001_log_location}}</td>
    </tr>
    <!-- Add more log rows as needed -->
  </table>

  <!-- Cleanup -->
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ§¹ Cleanup</div>
  <ul style="margin: 0 0 16px 0; padding-left: 20px; line-height: 1.8;">
    <li>â˜ {{tc_001_cleanup_1}}</li>
    <li>â˜ {{tc_001_cleanup_2}}</li>
  </ul>

  <!-- Developer Validation -->
  <div style="background: #e3f2fd; border-left: 4px solid #1565c0; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 12px;">
    <div style="font-weight: 600; color: #1565c0; margin-bottom: 6px;">ğŸ‘¨â€ğŸ’» Developer Validation</div>
    <div style="line-height: 1.6;">
      <p style="margin: 0 0 8px 0;"><strong>Unit Test Pattern:</strong></p>
      <div style="background: #f5f5f5; border: 1px solid #dee2e6; border-radius: 4px; padding: 10px; font-family: monospace; font-size: 12px; margin-bottom: 12px; line-height: 1.5; white-space: pre-wrap;">{{tc_001_unit_test_pattern}}</div>
      <p style="margin: 0 0 8px 0;"><strong>Assertions to Implement:</strong></p>
      <ul style="margin: 0 0 8px 0; padding-left: 20px;">
        <li><code>{{tc_001_assertion_1}}</code></li>
        <li><code>{{tc_001_assertion_2}}</code></li>
      </ul>
      <p style="margin: 0 0 8px 0;"><strong>Mocks Required:</strong></p>
      <ul style="margin: 0 0 8px 0; padding-left: 20px;">
        <li>{{tc_001_mock_1}}</li>
      </ul>
      <p style="margin: 0;"><strong>Integration Points to Verify:</strong></p>
      <ul style="margin: 0; padding-left: 20px;">
        <li>{{tc_001_integration_check_1}}</li>
      </ul>
    </div>
  </div>

  <!-- QA Validation -->
  <div style="background: #f3e5f5; border-left: 4px solid #7b1fa2; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 0;">
    <div style="font-weight: 600; color: #7b1fa2; margin-bottom: 6px;">ğŸ” QA Validation</div>
    <div style="line-height: 1.6;">
      <p style="margin: 0 0 8px 0;"><strong>Step-by-Step Navigation:</strong></p>
      <ol style="margin: 0 0 12px 0; padding-left: 20px;">
        <li>{{tc_001_qa_nav_1}}</li>
        <li>{{tc_001_qa_nav_2}}</li>
        <li>{{tc_001_qa_nav_3}}</li>
      </ol>
      <p style="margin: 0 0 8px 0;"><strong>Data Verification Query:</strong></p>
      <div style="background: #f5f5f5; border: 1px solid #dee2e6; border-radius: 4px; padding: 10px; font-family: monospace; font-size: 12px; margin-bottom: 12px; line-height: 1.5; white-space: pre-wrap;">{{tc_001_data_query}}</div>
      <p style="margin: 0 0 8px 0;"><strong>Visual Checkpoints:</strong></p>
      <ul style="margin: 0 0 8px 0; padding-left: 20px;">
        <li>â˜ {{tc_001_visual_check_1}}</li>
        <li>â˜ {{tc_001_visual_check_2}}</li>
      </ul>
      <p style="margin: 0;"><strong>Environment Prerequisites:</strong> {{tc_001_env_prereqs}}</p>
    </div>
  </div>

</div>

<!-- ============================================================ -->
<!-- SUBSECTION 6: P2 Important Tests                              -->
<!-- ============================================================ -->

### ğŸŸ¡ P2 Important Tests
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    These tests cover important alternate paths and key negative scenarios. They should pass before release but may not block deployment in exceptional circumstances.
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Path Type</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Covers AC</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Data Row</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_test_id}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_test_scenario}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_path_type_badge}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_covers_ac}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p2_data_row}}</td>
    </tr>
    <!-- Repeat for each P2 test -->
  </table>
</div>

<!-- Repeat INDIVIDUAL TEST CASE CARD pattern (same as TC-001 above) for each P2 test case -->

<!-- ============================================================ -->
<!-- SUBSECTION 7: P3 Additional Coverage                          -->
<!-- ============================================================ -->

### ğŸŸ¢ P3 Additional Coverage
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <p style="margin: 0 0 16px 0; line-height: 1.6;">
    These tests provide additional coverage for edge cases and long-tail scenarios. They improve confidence but are not required for release.
  </p>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Path Type</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Covers AC</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Data Row</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_test_id}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_test_scenario}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_path_type_badge}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_covers_ac}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{p3_data_row}}</td>
    </tr>
    <!-- Repeat for each P3 test -->
  </table>
</div>

<!-- Repeat INDIVIDUAL TEST CASE CARD pattern for each P3 test case -->

<!-- ============================================================ -->
<!-- SUBSECTION 2a: Business Process Coverage Map                  -->
<!-- ============================================================ -->

### ğŸ”„ Business Process Coverage
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #e0f2f1; border-left: 4px solid #00796b; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 6px;">ğŸ”„ End-to-End Business Processes</div>
    <div style="line-height: 1.6;">Each business process touched by this change has been mapped and tested end-to-end, from trigger event through intermediate steps to final outcome.</div>
  </div>

  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Process</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Trigger â†’ Outcome</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Actors</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Mapped ACs</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Case IDs</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Coverage</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">{{bp_1_name}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{bp_1_trigger}} â†’ {{bp_1_outcome}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{bp_1_actors}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{bp_1_acs}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{bp_1_tests}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Full</span></td>
    </tr>
    <!-- Repeat for each business process -->
  </table>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 2b: Critical Scenario Register                     -->
<!-- ============================================================ -->

### âš ï¸ Critical Scenarios
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #ffebee; border-left: 4px solid #dc3545; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #c62828; margin-bottom: 6px;">ğŸš¨ High-Risk Scenarios</div>
    <div style="line-height: 1.6;">These scenarios represent the highest risk areas of this change. Every ğŸ”´ critical scenario is covered by at least one P1 test; every ğŸŸ¡ important scenario by at least one P2 test.</div>
  </div>

  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 10%;">Risk</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">Impact</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 15%;">Test Case IDs</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">Mitigation</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{cs_1_scenario}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #dc3545; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">ğŸ”´ Critical</span></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{cs_1_impact}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{cs_1_tests}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{cs_1_mitigation}}</td>
    </tr>
    <!-- Repeat for each critical scenario. Risk badges:
         ğŸ”´ Critical: background: #dc3545; color: #fff
         ğŸŸ¡ Important: background: #ffc107; color: #333
    -->
  </table>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 7a: Regression Tests                               -->
<!-- ============================================================ -->

### ğŸ” Regression Tests
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #e0f2f1; border-left: 4px solid #00796b; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 6px;">ğŸ” Regression Verification</div>
    <div style="line-height: 1.6;">These tests verify that existing functionality adjacent to this change still works correctly after deployment. They answer "did we break anything?" â€” not "does the new thing work?"</div>
  </div>

  <!-- MASTER SUMMARY TABLE â€” Primary execution view for regression tests -->
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 20%;">Existing Workflow</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">Path</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 32%;">Steps</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 27%;">Expected Result</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 5%; text-align: center;">âœ“</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">REG-001</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{reg_001_title}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ“ Happy</span></td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">
        1. {{reg_001_step_1_action}}<br/>
        2. {{reg_001_step_2_action}}<br/>
        3. {{reg_001_step_3_action}}<br/>
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{reg_001_final_expected_result}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <!-- Repeat for each REG-XXX. Both happy and unhappy paths. -->
  </table>
</div>

<!-- REGRESSION TEST DETAIL CARDS â€” Repeat for EACH REG-XXX -->
<!-- Uses same card structure as TC-XXX: metadata table, Expected Behavior callout, steps table, verification, If This Fails callout, dev/QA validation -->

#### REG-001: {{reg_001_full_title}}

<div style="background: #fff; border-left: 4px solid #4caf50; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 25%; background: #f8f9fa;">Objective</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{reg_001_objective}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Path Type</td><td style="padding: 8px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ“ Happy Path</span></td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Regression Surface</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{reg_001_surface}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Entry Point</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{reg_001_entry_point}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Persona</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{reg_001_persona}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Data Row</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{reg_001_data_row}}</td></tr>
  </table>

  <!-- Expected Behavior callout â€” MANDATORY -->
  <div style="border-left: 4px solid #26a69a; background: #e0f2f1; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 0 0 16px 0;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 4px;">ğŸ’¡ Expected Behavior</div>
    <div style="line-height: 1.6;">{{reg_001_expected_behavior_narrative}}</div>
  </div>

  <!-- Steps, Verification, If This Fails â€” same structure as TC-XXX cards -->
  <!-- (Use TC-001 card pattern above: preconditions â†’ step table â†’ verification â†’ If This Fails â†’ telemetry â†’ cleanup â†’ dev/QA) -->

  <!-- If This Fails callout â€” MANDATORY -->
  <div style="border-left: 4px solid #dc3545; background: #fce4ec; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 0 0 16px 0;">
    <div style="font-weight: 600; color: #c62828; margin-bottom: 4px;">ğŸš¨ If This Fails</div>
    <div style="line-height: 1.6;">{{reg_001_failure_guidance}}</div>
  </div>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 7b: UAT Scripts                                    -->
<!-- ============================================================ -->

### ğŸ§ª UAT Validation Scripts
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #e0f2f1; border-left: 4px solid #00796b; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 6px;">ğŸ’¡ Audience</div>
    <div style="line-height: 1.6;">These scripts are designed for business stakeholders who validate the feature meets their needs. Both happy path (it works) and unhappy path (errors are handled gracefully) scripts are included.</div>
  </div>
</div>

#### âœ“ Happy Path UAT Scripts

<!-- MASTER SUMMARY TABLE â€” Happy UAT scripts -->
<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 10%;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">Scenario</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 35%;">Steps (Business Language)</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">Expected Result</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 5%; text-align: center;">âœ“</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">UAT-001</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{uat_001_title}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">1. {{uat_001_step_1_action}}<br/>2. {{uat_001_step_2_action}}<br/></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{uat_001_expected_result}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <!-- Repeat for each happy UAT script -->
  </table>
</div>

<!-- HAPPY UAT DETAIL CARDS â€” Repeat for EACH happy UAT-XXX -->

#### UAT-001: {{uat_001_title}}

<div style="background: #fff; border-left: 4px solid #4caf50; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 12px;">
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 25%; background: #f8f9fa;">Persona</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_001_persona}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Path Type</td><td style="padding: 8px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ“ Happy</span></td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Covers AC</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_001_covers_ac}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Data Requirements</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_001_data_reqs}}</td></tr>
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px;">Test Steps:</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 12px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">Step</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Action (Business Language)</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">What You Should See</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_001_step_1_action}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_001_step_1_expected}}</td>
    </tr>
    <!-- Add more UAT step rows as needed (minimum 4 steps) -->
  </table>

  <div style="margin-bottom: 8px;">âœ… <strong>Pass if:</strong> {{uat_001_pass_criteria}}</div>
  <div>âŒ <strong>Fail if:</strong> {{uat_001_fail_criteria}}</div>
</div>

#### âœ— Unhappy Path UAT Scripts

<!-- MASTER SUMMARY TABLE â€” Unhappy UAT scripts -->
<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 10%;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">What Could Go Wrong</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 35%;">Steps</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 25%;">Expected Error Behavior</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 5%; text-align: center;">âœ“</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">UAT-002</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{uat_002_what_could_go_wrong}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">1. {{uat_002_step_1_action}}<br/>2. {{uat_002_step_2_action}}<br/></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{uat_002_expected_error}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <!-- Repeat for each unhappy UAT script -->
  </table>
</div>

<!-- UNHAPPY UAT DETAIL CARDS â€” Repeat for EACH unhappy UAT-XXX -->

#### UAT-002: {{uat_002_title}}

<div style="background: #fff; border-left: 4px solid #dc3545; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 12px;">
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 25%; background: #f8f9fa;">Persona</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_002_persona}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Path Type</td><td style="padding: 8px; border: 1px solid #dee2e6;"><span style="background: #dc3545; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ— Unhappy</span></td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">What Could Go Wrong</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_002_what_could_go_wrong}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Covers AC</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_002_covers_ac}}</td></tr>
    <tr><td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; background: #f8f9fa;">Data Requirements</td><td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_002_data_reqs}}</td></tr>
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px;">Test Steps:</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 12px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">Step</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Action (Business Language)</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">What You Should See</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_002_step_1_action}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{uat_002_step_1_expected}}</td>
    </tr>
    <!-- Add more UAT step rows as needed (minimum 4 steps) -->
  </table>

  <!-- If This Fails callout for unhappy UAT -->
  <div style="border-left: 4px solid #dc3545; background: #fce4ec; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 0 0 12px 0;">
    <div style="font-weight: 600; color: #c62828; margin-bottom: 4px;">ğŸš¨ If This Fails</div>
    <div style="line-height: 1.6;">{{uat_002_failure_guidance}}</div>
  </div>

  <div style="margin-bottom: 8px;">âœ… <strong>Pass if:</strong> {{uat_002_pass_criteria}}</div>
  <div>âŒ <strong>Fail if:</strong> {{uat_002_fail_criteria}}</div>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 7c: Smoke Test Pack                                -->
<!-- ============================================================ -->

### ğŸš€ Smoke Test Pack
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #fff3e0; border-left: 4px solid #ff9800; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #e65100; margin-bottom: 6px;">âš ï¸ Purpose</div>
    <div style="line-height: 1.6;">Run these checks immediately after deployment. Happy checks verify things work; Unhappy checks verify guardrails are intact.</div>
  </div>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âœ“ Happy Smoke Checks (â‰¥3 required)</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 18%;">Check</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 40%;">Steps</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 29%;">Pass Criteria</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 5%; text-align: center;">âœ“</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">SMK-001</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Login + Navigation</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">
        1. {{smoke_1_step_1}}<br/>
        2. {{smoke_1_step_2}}<br/>
        3. {{smoke_1_step_3}}<br/>
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_1_criteria}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">SMK-002</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Create Key Record</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">
        1. {{smoke_2_step_1}}<br/>
        2. {{smoke_2_step_2}}<br/>
        3. {{smoke_2_step_3}}<br/>
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_2_criteria}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">SMK-003</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Automation Sanity</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">
        1. {{smoke_3_step_1}}<br/>
        2. {{smoke_3_step_2}}<br/>
        3. {{smoke_3_step_3}}<br/>
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_3_criteria}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <!-- Add more happy smoke check rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">âœ— Unhappy Smoke Checks (â‰¥2 required)</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 8%;">ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 18%;">Check</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 40%;">Steps</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 29%;">Pass Criteria</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6; width: 5%; text-align: center;">âœ“</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">SMK-004</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Permission Denial</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">
        1. {{smoke_4_step_1}}<br/>
        2. {{smoke_4_step_2}}<br/>
        3. {{smoke_4_step_3}}<br/>
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_4_criteria}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">SMK-005</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; font-weight: 600;">Invalid Data Rejection</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; line-height: 1.8;">
        1. {{smoke_5_step_1}}<br/>
        2. {{smoke_5_step_2}}<br/>
        3. {{smoke_5_step_3}}<br/>
      </td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{smoke_5_criteria}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">â˜</td>
    </tr>
    <!-- Add more unhappy smoke check rows as needed -->
  </table>

  <div style="background: #f5f5f5; border-radius: 6px; padding: 12px; font-size: 12px; color: #666;">
    <strong>Principles:</strong> Shallow (basic health, not full coverage) Â· Fast (&lt;15 min) Â· Independent (any order) Â· Repeatable (consistent results)
  </div>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 8: Test Data Setup Guide                           -->
<!-- ============================================================ -->

### ğŸ“‹ Test Data Setup Guide
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #e0f2f1; border-left: 4px solid #00796b; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #00796b; margin-bottom: 6px;">ğŸ“‹ Purpose</div>
    <div style="line-height: 1.6;">Follow these steps to prepare all required test data from scratch in a clean sandbox. References the Test Data Matrix personas above.</div>
  </div>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 1: Create Test Users</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 5%;">#</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Username</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Profile</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Permission Sets</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Role</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_username}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_profile}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_permsets}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_role}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_user_1_purpose}}</td>
    </tr>
    <!-- Add more user rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 2: Create Test Records</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 5%;">#</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Object</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Record Name</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Key Field Values</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Related To</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_object}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_name}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_fields}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_related}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_record_1_purpose}}</td>
    </tr>
    <!-- Add more record rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 3: Configure Feature Flags / Settings</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6; width: 5%;">#</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Setting</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Object/Type</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Value</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Purpose</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">1</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_name}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_type}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_value}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{setup_flag_1_purpose}}</td>
    </tr>
    <!-- Add more flag rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; font-size: 14px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">Step 4: Verify Environment</div>
  <ul style="margin: 0; padding-left: 20px; line-height: 2;">
    <li>â˜ All test users can log in</li>
    <li>â˜ Required permission sets are assigned</li>
    <li>â˜ Test records are visible to appropriate users</li>
    <li>â˜ Feature flags are set correctly</li>
    <li>â˜ Integration endpoints are available (or mocked)</li>
  </ul>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 9: Requirements Traceability Matrix                -->
<!-- ============================================================ -->

### ğŸ”— Requirements Traceability Matrix
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">AC ID</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Description</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Test Cases</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Components</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Coverage</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">AC-1</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{rtm_ac_1_description}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{rtm_ac_1_tests}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{rtm_ac_1_components}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Full</span></td>
    </tr>
    <!-- Repeat for each AC -->
  </table>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 10: Assumptions Resolution Log                     -->
<!-- ============================================================ -->

### ğŸ“ Assumptions Resolution Log
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Assumption</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Phase</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Source</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Status</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Resolution Evidence</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{assumption_text}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{assumption_phase}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{assumption_source}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;"><span style="background: #4caf50; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px;">âœ… Validated</span></td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{assumption_evidence}}</td>
    </tr>
    <!-- Repeat for each assumption. Status badges:
         âœ… Validated: #4caf50  |  âŒ Refuted: #dc3545  |  âš ï¸ Open: #ffc107 (color: #333)  |  ğŸ”„ Superseded: #2196f3
    -->
  </table>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 11: Quality Corrections Applied                    -->
<!-- ============================================================ -->

### âœ¨ Quality Corrections Applied
<div style="height: 4px; background: linear-gradient(135deg, #26a69a 0%, #00796b 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ¯ Solution Bias Removed</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Original Content</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Where Found</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Moved To</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Category</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{bias_original}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{bias_location}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{bias_moved_to}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{bias_category}}</td>
    </tr>
    <!-- Add more rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ“ Template Fidelity Corrections</div>
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Issue Detected</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Auto-Correction Applied</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Section Affected</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{fidelity_issue}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{fidelity_correction}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{fidelity_section}}</td>
    </tr>
    <!-- Add more rows as needed -->
  </table>

  <div style="font-weight: 600; color: #00796b; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #dee2e6;">ğŸ§  Logical Fallacies Challenged</div>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Fallacy Type</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Original Statement</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Challenge Question</td>
      <td style="padding: 8px; font-weight: 600; border: 1px solid #dee2e6;">Resolution</td>
    </tr>
    <tr>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{fallacy_type}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{fallacy_original}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{fallacy_challenge}}</td>
      <td style="padding: 8px; border: 1px solid #dee2e6;">{{fallacy_resolution}}</td>
    </tr>
    <!-- Add more rows as needed -->
  </table>
</div>

<!-- ============================================================ -->
<!-- SUBSECTION 12: Open Unknowns                                  -->
<!-- ============================================================ -->

### â“ Open Unknowns
<div style="height: 4px; background: linear-gradient(135deg, #ef5350 0%, #c62828 100%); border-radius: 2px; margin: 0 0 12px 0;"></div>

<div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin-bottom: 20px; font-family: 'Segoe UI', sans-serif; font-size: 13px; color: #333;">
  <div style="background: #ffebee; border-left: 4px solid #dc3545; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 16px;">
    <div style="font-weight: 600; color: #dc3545; margin-bottom: 6px;">âš ï¸ Items Requiring Human Input</div>
    <div style="line-height: 1.6;">These items could not be determined during autonomous preparation and require human input before testing can be finalized.</div>
  </div>
  <table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f8f9fa;">
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Unknown</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Why We Couldn't Determine</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Impact if Unresolved</td>
      <td style="padding: 10px; font-weight: 600; border: 1px solid #dee2e6;">Resolution Path</td>
    </tr>
    <tr>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_item}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_reason}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_impact}}</td>
      <td style="padding: 10px; border: 1px solid #dee2e6;">{{unknown_resolution}}</td>
    </tr>
    <!-- Add more unknown rows as needed -->
  </table>
</div>
