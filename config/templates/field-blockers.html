<!--
  BLOCKERS / FLOW HEALTH REPORT FIELD HTML TEMPLATE
  Purpose: Flow health analysis with blockers, stalled work, patterns, and interventions
  Variables: Replace {{variable}} placeholders with actual content
  
  TWO VARIANTS:
  1. ESCALATION REQUIRED - When issues are detected
  2. HEALTHY FLOW - When no issues exist

  Color Scheme (Dark Gradients with White Text):
  - Red (#c62828 â†’ #b71c1c): Blockers Header, Critical Blockers
  - Orange (#e65100 â†’ #bf360c): Medium Dependencies
  - Indigo (#303f9f â†’ #1a237e): Risks to Monitor
  - Green (#2e7d32 â†’ #1b5e20): Recently Resolved
-->

<!-- ============================================================ -->
<!-- VARIANT 1: ESCALATION REQUIRED (Issues Detected)             -->
<!-- ============================================================ -->
<div style="font-family: 'Segoe UI', sans-serif; font-size: 14px; color: #333;">
  
  <!-- BLOCKERS HEADER - Red (Urgent) -->
  <div style="background: linear-gradient(135deg, #c62828 0%, #b71c1c 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
    <span style="font-weight: 700; color: #fff; font-size: 15px;">ğŸš¨ Blockers Summary</span>
  </div>
  <div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
    <div style="font-size: 13px; color: #333; line-height: 1.6;">
      <strong>Status:</strong> {{blocker_count}} blocking issue(s) requiring attention. {{escalation_summary}}
    </div>
  </div>
  
  <!-- CRITICAL BLOCKERS SECTION - Red -->
  <div style="background: linear-gradient(135deg, #c62828 0%, #b71c1c 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
    <span style="font-weight: 700; color: #fff; font-size: 15px;">ğŸ”´ Critical - Escalation Required</span>
  </div>
  <div style="background: #fff; border: 1px solid #dee2e6; border-left: 4px solid #dc3545; border-radius: 0 8px 8px 0; padding: 16px; margin-bottom: 20px;">
    <!-- Blocker Card -->
    <div style="font-weight: 600; color: #721c24; margin-bottom: 8px;">#{{work_item_id}} - {{work_item_title}}</div>
    <div style="font-size: 13px; color: #333; line-height: 1.6; margin-bottom: 12px;">
      {{blocker_description}}
    </div>
    <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
      <tr style="border-bottom: 1px solid #eee;">
        <td style="padding: 8px 0; color: #666; width: 140px;"><strong>Impact:</strong></td>
        <td style="padding: 8px 0;">{{impact_description}}</td>
      </tr>
      <tr style="border-bottom: 1px solid #eee;">
        <td style="padding: 8px 0; color: #666;"><strong>Due Date:</strong></td>
        <td style="padding: 8px 0;">{{target_date}} - <span style="color: #dc3545; font-weight: 600;">{{target_date_status}}</span></td>
      </tr>
      <tr>
        <td style="padding: 8px 0; color: #666;"><strong>Days in State:</strong></td>
        <td style="padding: 8px 0;"><span style="background: #dc3545; color: #fff; padding: 2px 8px; border-radius: 3px; font-size: 11px; font-weight: 600;">{{days_stalled}} days</span></td>
      </tr>
    </table>
  </div>
  
  <!-- MEDIUM DEPENDENCIES SECTION - Orange -->
  <div style="background: linear-gradient(135deg, #e65100 0%, #bf360c 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
    <span style="font-weight: 700; color: #fff; font-size: 15px;">ğŸŸ¡ Medium - Dependencies Being Managed</span>
  </div>
  <div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
    <ul style="margin: 0; padding-left: 20px; font-size: 13px; line-height: 1.8; color: #333;">
      <li>
        <strong style="color: #1976d2;">#{{work_item_id}}</strong> ({{work_item_title}}): 
        <span style="background: #dc3545; color: #fff; padding: 2px 6px; border-radius: 3px; font-size: 11px;">Blocked</span> 
        by #{{blocker_id}}. {{dependency_description}}
      </li>
    </ul>
  </div>
  
  <!-- RISKS TO MONITOR SECTION - Indigo -->
  <div style="background: linear-gradient(135deg, #303f9f 0%, #1a237e 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
    <span style="font-weight: 700; color: #fff; font-size: 15px;">âš ï¸ Risks to Monitor</span>
  </div>
  <div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
    <ul style="margin: 0; padding-left: 20px; font-size: 13px; line-height: 1.8; color: #333;">
      <li><strong>{{risk_category}}:</strong> {{risk_description}}</li>
    </ul>
  </div>
  
  <!-- RECENTLY RESOLVED SECTION - Green -->
  <div style="background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
    <span style="font-weight: 700; color: #fff; font-size: 15px;">âœ… Recently Resolved</span>
  </div>
  <div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
    <ul style="margin: 0; padding-left: 20px; font-size: 13px; line-height: 1.8; color: #333;">
      <li><strong>#{{work_item_id}}:</strong> {{resolution_description}} - <span style="background: #28a745; color: #fff; padding: 2px 6px; border-radius: 3px; font-size: 11px;">Closed</span></li>
    </ul>
  </div>
  
  <!-- LEADERSHIP HELP CALLOUT -->
  <div style="background: #e3f2fd; border-left: 4px solid #2196f3; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 20px;">
    <div style="font-weight: 600; color: #1565c0; margin-bottom: 6px;">ğŸ¤ How Leadership Can Help</div>
    <div style="font-size: 13px; color: #333; line-height: 1.6;">
      {{leadership_ask_text}}
    </div>
  </div>
  
</div>

<!-- ============================================================ -->
<!-- VARIANT 2: HEALTHY FLOW (No Issues)                          -->
<!-- ============================================================ -->
<!--
<div style="font-family: 'Segoe UI', sans-serif; font-size: 14px; color: #333;">
  
  <!-- HEALTHY FLOW HEADER - Green -->
  <div style="background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
    <span style="font-weight: 700; color: #fff; font-size: 15px;">âœ… Flow Health Report</span>
  </div>
  <div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
    <div style="font-size: 13px; color: #333; line-height: 1.6;">
      <strong>Status:</strong> No active blockers | All work items healthy. Flow is smooth with all Active items showing recent activity within thresholds.
    </div>
  </div>
  
  <!-- FLOW HEALTH SUMMARY -->
  <div style="background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%); border-radius: 8px; padding: 14px 16px; margin-bottom: 16px;">
    <span style="font-weight: 700; color: #fff; font-size: 15px;">ğŸ“Š Flow Health Summary</span>
  </div>
  <div style="background: #fff; border: 1px solid #dee2e6; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
    <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
      <tr style="background: #f8f9fa; border-bottom: 1px solid #eee;">
        <td style="padding: 10px; font-weight: 600;">Active Items</td>
        <td style="padding: 10px; font-weight: 600;">Completed</td>
        <td style="padding: 10px; font-weight: 600;">Avg Cycle Time (Days)</td>
      </tr>
      <tr>
        <td style="padding: 10px; color: #2e7d32; font-weight: 600;">{{active_count}}</td>
        <td style="padding: 10px; color: #1976d2; font-weight: 600;">{{completed_count}}</td>
        <td style="padding: 10px; color: #495057; font-weight: 600;">{{avg_cycle_time}}</td>
      </tr>
    </table>
  </div>
  
  <!-- TEAM HIGHLIGHTS CALLOUT -->
  <div style="background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 0 8px 8px 0; padding: 14px; margin-bottom: 20px;">
    <div style="font-weight: 600; color: #2e7d32; margin-bottom: 6px;">âœ… Team Highlights</div>
    <div style="font-size: 13px; color: #333; line-height: 1.6;">
      {{team_highlights_text}}
    </div>
  </div>
  
</div>
-->
